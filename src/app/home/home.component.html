
	<app-header></app-header>
	<div class="main_container d-flex align-items-start">
		<div class="left_sidebars">
			<div class="profile_image">
				<img [src]="profileImg" onerror="this.src='/assets/images/default_user.jpg';">
			</div>
			<div class="profile_name">{{name}}</div>
			<div class="friends_Posts d-flex align-items-center">
				<div class="total_friends_of_user d-flex align-items-center">
					<div class="my_friends">Friends</div>
					<div class="my_friends_numbers">{{count_frd}}</div>
				</div>
				<div class="total_posts_of_user d-flex align-items-center">
					<div class="my_friends">Posts</div>
					<div class="my_friends_numbers">{{user_post}}</div>
				</div>
			</div>
			<a class="my_post_links" href="profile/{{id}}">
				<div class="left_content">
					<i class="fas fa-user"></i>
					<div>Go to your Profile</div>
				</div>
			</a>
			<a class="my_post_links" href="#">
				<div class="left_content">
					<i class="fas fa-user-cog"></i>
					<div>Account Setting</div>
				</div>
			</a>
			<a class="my_post_links" href="friends/{{id}}">
				<div class="left_content">
					<i class="fas fa-user-plus"></i>
					<div class="badges_for_fr position-relative" [attr.data-content]="frd_request_count">Friend Requests</div>
				</div>
			</a>
			<a class="my_post_links" href="search/{{id}}">
				<div class="left_content">
					<i class="fas fa-search-plus"></i>
					<div>Search for someone</div>
				</div>
			</a>
			<a class="my_post_links" href="peopleknow/{{id}}">
				<div class="left_content">
					<i class="fas fa-users"></i>
					<div class="badges_for_pymk position-relative" [attr.data-content]="countSuggest">People you may know</div>
				</div>
			</a>
			<a class="my_post_links" href="#">
				<div class="left_content">
					<i class="fas fa-cog"></i>
					<div>Customization</div>
				</div>
			</a>
		</div>
		<div class="main_areas">
			<div class="main_area_contents">
				<div class="write_words position-relative" style="padding-bottom: 10px !important;">
				  <input #textmsgPost type="text" placeholder="What is going on in your gaming world today {{name}}!" (click)="openTextDialog()">
				  <div class="slider_bid_like-share d-flex flex-column">
				    <input type="file" style="display:none" #file class="btn btn-primary" (change)="openDialog($event)" multiple="" />
				    <div class="take_action post_take_action" (click)="file.click();" title="Photos/Videos">
				      <button class="like_sec" style="display: contents;">
				        <i class="fa fa-camera"></i>
				        <div>Photos/Videos</div>
				      </button>
				    </div>
				  </div>
				</div>
			</div>

			<div class="main_area_contents timeline" *ngFor="let data of datas;let i = index" id="posts_img">

				<div class="main_post_contents d-flex flex-column">
					<div class="d-flex show_basic_info" style="width: 100%">
						<div class="profile_pic_profile position-relative-img" (mouseover)="showbasicProfile[i]=true" (mouseleave)="showbasicProfile[i]=false">
							<img [src]="data.post_profileImg" onerror="this.src='/assets/images/default_user.jpg';">
							<div class="basic_info" *ngIf="showbasicProfile[i]" >
								<div class="d-flex">
									<img [src]="data.post_profileImg" onerror="this.src='/assets/images/default_user.jpg';" class="hover-info-img">
									<div style="padding: 10px;">
										<a href="profile/{{data.userId}}"><div class="profile_basic_info set_redirect_link">{{data.post_user}}</div></a>
										<div class="profile_basic_info">{{data.post_user_designation}}</div>
										<div class="profile_basic_info">{{data.post_user_email}}</div>
									</div>
								</div>
								<div class="full-width-50" *ngIf="current_user['data']._id !== data.userId">
									<i class="fa fa-comments-o" style="margin: 0px 11px 0px 23px"></i><div style="display: contents;">Message</div>
								</div>
								<div class="full-width-50" *ngIf="current_user['data']._id == data.userId">
									<i class="fa fa-comments-o" style="margin: 0px 11px 0px 23px"></i><div style="display: contents;">Edit Profile</div>
								</div>
								<div class="full-width-20" *ngIf="current_user['data']._id !== data.userId">
									<i class="fas fa-user-check" style="margin-left: 18px"></i>
								</div>
								<div class="full-width-20" *ngIf="current_user['data']._id == data.userId" (click)="showProfile()" title="View as">
									<i class="fas fa-eye" style="margin-left: 18px"></i>
								</div>
								<div class="full-width-20">
									<i class="fas fa-ellipsis-h" style="margin-left: 18px"></i>
								</div>
							</div>
						</div>
						<div class="name_and_desc" style="width: 100%" (mouseleave)="showbasicProfile2[i]=false">
							<div class="d-flex justify-content-between align-items-center">
								<a href="profile/{{data.userId}}" (mouseover)="showbasicProfile2[i]=true"><div class="profile_name_of_poster">{{data.post_user}}</div></a>
								<div class="province d-flex align-items-center">
									<img src="assets/images/add_ob.png">
									<div>Pulshar, MB</div>
								</div>
								<div class="basic_info" *ngIf="showbasicProfile2[i]">
									<div class="d-flex">
										<img [src]="data.post_profileImg" onerror="this.src='/assets/images/default_user.jpg';" class="hover-info-img2">
										<div style="padding: 10px;">
											<a href="profile/{{data.userId}}"><div class="profile_basic_info set_redirect_link">{{data.post_user}}</div></a>
											<div class="profile_basic_info">{{data.post_user_designation}}</div>
											<div class="profile_basic_info">{{data.post_user_email}}</div>
										</div>
									</div>
									<div class="full-width-50" *ngIf="current_user['data']._id !== data.userId">
										<i class="fa fa-comments-o" style="margin: 0px 11px 0px 23px"></i><div style="display: contents;">Message</div>
									</div>
									<div class="full-width-50" *ngIf="current_user['data']._id == data.userId">
										<i class="fa fa-comments-o" style="margin: 0px 11px 0px 23px"></i><div style="display: contents;">Edit Profile</div>
									</div>
									<div class="full-width-20" *ngIf="current_user['data']._id !== data.userId">
										<i class="fas fa-user-check" style="margin-left: 18px"></i>
									</div>
									<div class="full-width-20" *ngIf="current_user['data']._id == data.userId" (click)="showProfile()" title="View as">
										<i class="fas fa-eye" style="margin-left: 18px"></i>
									</div>
									<div class="full-width-20">
										<i class="fas fa-ellipsis-h" style="margin-left: 18px"></i>
									</div>
								</div>
							</div>
							<div class="item_desc mt-3" style="width: 100%">{{data.description}}</div>
						</div>

					</div>

					<div class="slider_bid_like-share d-flex flex-column" style="width: 100%">
						<div *ngIf="data.imageUrl.length == 1">
							<div class="item" *ngFor="let imageurl of data.imageUrl; let i = index;">
								<img class="slider_image" style="width: 100%; height: 320px; margin-top: 10px;" [src]="imageurl" [attr.data-slide-to]="i" *ngIf="imageurl.split('.').pop() !== 'mp4'" (click)="openModal(data._id);currentSlide(i+1)">
								<video controls class="slider_video" style="width: 100%; height: 100%; margin-top: 50px;" *ngIf="imageurl.split('.').pop() == 'mp4'" disablePictureInPicture controlsList="nodownload">
									<source src="{{imageurl}}" type="video/mp4">
								</video>
							</div>
						</div>
						<div *ngIf="data.imageUrl.length == 2">
							<div class="item" >
								<ng-container *ngFor="let imageurl of data.imageUrl; let i = index;">
									<img class="slider_image" style="width: '100%'; height: 320px; border: 5px solid #fff; margin-top: 1px;" [src]="imageurl" [attr.data-slide-to]="i" *ngIf="imageurl.split('.').pop() !== 'mp4'" (click)="openModal(data._id);currentSlide(i+1)">
									<video controls class="slider_video" style="width: '100%'; height: 100%; border: 5px solid #fff; margin-top: 50px;" *ngIf="imageurl.split('.').pop() == 'mp4'" disablePictureInPicture controlsList="nodownload">
					          <source src="{{imageurl}}" type="video/mp4">
					        </video>
								</ng-container>
							</div>
						</div>
						<div *ngIf="data.imageUrl.length == 3">
							<div class="item">
								<!-- <ng-container *ngFor="let imageurl of imageObject; let i = index; first as isFirst" > -->
								<ng-container *ngFor="let imageurl of data.imageUrl; let i = index; first as isFirst" >
									<!-- {{data.newImages['id']}} -->
									<img class="slider_image slider_image_3" style="width: {{(isFirst) ? '100%' : '50%'}}; border: 5px solid #fff; margin-top: 1px;" [src]="imageurl" [attr.data-slide-to]="i" *ngIf="imageurl.split('.').pop() !== 'mp4'" (click)="openModal(data._id);currentSlide(i+1)">
									<!-- <ng-image-slider #nav
								    [images]="imageObject"
								    [imageSize]="{width: '100%'}"></ng-image-slider> -->
										<!-- {{data.newImages.length}} -->
										<!-- {{i+1}} -->
									<!-- <ng-image-slider [images]="data.newImages" [imageSize]="{ width: (isFirst) ? '100%' : '50%'}" style="display: {{(i+1 == 3 ||) ? 'none' : 'block'}}" [showArrow]=true #nav></ng-image-slider> -->
									<video controls class="slider_video" style="width: {{(isFirst) ? '100%' : '50%'}}; border: 5px solid #fff; margin-top: 50px;" *ngIf="imageurl.split('.').pop() == 'mp4'" disablePictureInPicture controlsList="nodownload">
					          <source src="{{imageurl}}" type="video/mp4">
					        </video>
								</ng-container>
							</div>
						</div>
						<div *ngIf="data.imageUrl.length == 4">
							<div class="item">
								<ng-container *ngFor="let imageurl of data.imageUrl; let i = index;" >
									<img class="slider_image" style="width: 50%; border: 5px solid #fff; margin-top: 1px;" [src]="imageurl" [attr.data-slide-to]="i" *ngIf="imageurl.split('.').pop() !== 'mp4'" (click)="openModal(data._id);currentSlide(i+1)">
									<video controls class="slider_video" style="width: 50%; border: 5px solid #fff; margin-top: 1px;" *ngIf="imageurl.split('.').pop() == 'mp4'" disablePictureInPicture controlsList="nodownload">
					          <source src="{{imageurl}}" type="video/mp4">
					        </video>
								</ng-container>
							</div>
						</div>
						<div *ngIf="data.imageUrl.length > 4">
							<div class="item">
								<ng-container *ngFor="let imageurl of data.imageUrl; let i = index; last as isLast">
									<img class="{{(i + 1 > 4) ? 'hidden_last_img' : 'slider_image'}}" style="width: 50%; border: 5px solid #fff; margin-top: 1px;" [src]="imageurl" [attr.data-slide-to]="i" *ngIf="imageurl.split('.').pop() !== 'mp4'" (click)="openModal(data._id);currentSlide(i+1)">
									<video controls class="{{(i + 1 > 4) ? 'hidden_last_img' : 'slider_video'}}" style="width: 50%; border: 5px solid #fff; margin-top: 1px;" *ngIf="imageurl.split('.').pop() == 'mp4'" disablePictureInPicture controlsList="nodownload">
					          <source src="{{imageurl}}" type="video/mp4">
					        </video>
								</ng-container>
								<div class="bottom-left set_view_more" (click)="openModal(data._id);currentSlide(i+1)">View More</div>
							</div>
						</div>
						<div [ngClass]="current_user['data']._id !== data.userId ? 'take_action' : 'no_share_action'">
							<button class="showLikes" (click)="likeIt(data._id, data.like.length);">
								<i class="fa" id="{{data._id}}" [ngClass]="postlikeId.includes(data._id) ? 'fa-thumbs-up' : 'fa-thumbs-o-up'"></i>
								<div>Like<span id="count_{{data._id}}">{{data.like.length === 0 ? '' : data.like.length}}</span></div>
							</button>

							<div class="tooltiptext" *ngIf="data.like.length > 0">
								<div *ngFor="let like of data.like">
									{{like.name}}
								</div>
							</div>

							<button class="comment_sec_{{data._id}} comment_sec" (click)="open_comments(data._id)">
								<i class="far fa-comment-dots"></i>
								<div>Comment<span>{{data.comment.length !== 0 ? checkTem ? data.comment.length + temCmnt.length : data.comment.length : temCmnt.length === 0 ? '' : temCmnt.length}}</span></div>
							</button>
							<button class="share_sec" *ngIf="current_user['data']._id !== data.userId">
								<i class="far fa-share"></i>
								<div>Share<span>7</span></div>
							</button>
						</div>

						<div class="write_comments">
				      <form (ngSubmit)="addComments(data._id, name, profileImg)" [formGroup]="commentsForm">
				        <input type="text" placeholder=" Write a comment...!" formControlName="newcomment">
				      </form>
				    </div>
						<div class="comments_container_{{data._id}} comments_container" style="display: none;">
							<div class="comment_title">Comments:</div>
							<ng-container *ngIf="checkTem && tempPostId === data._id">
								<div class="comment_user d-flex" *ngFor="let temp of temCmnt.slice().reverse(); let i = index">
									<img [src]="tempProfile" onerror="this.src='/assets/images/default_user.jpg';">
									<div>
										<div class="commenter">{{tempName}}</div>
										<div class="comment_here">{{temp}}</div>
									</div>
								</div>
							</ng-container>

							<div class="comment_user d-flex" *ngFor="let comnt of data.comment.slice().reverse(); let i = index">
								<img [src]="comnt.profile" onerror="this.src='/assets/images/default_user.jpg';">
								<div>
									<div class="commenter">{{comnt.name}}</div>
									<div class="comment_here">{{comnt.newcomment}}</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="right_sidebar">
			<div>
				<div class="cat_search position-relative">
					<ng-autocomplete class="autocomplete-container" #searchText [data]="allUsers" placeHolder="Search someone" value="" [searchKeyword]="keyword" [itemTemplate]="itemTemplate"
							[notFoundTemplate]="notFoundTemplate">
					</ng-autocomplete>

					<ng-template #itemTemplate let-item>
						<div class="d-flex allusers_set">
							<div class="profile_pics position-relative">
								<img [src]="item.profileImgURl" onerror="this.src='/assets/images/default_user.jpg';">
							</div>
							<div>
								<div class="d-flex justify-content-between align-items-center">
									<a href="profile/{{item._id}}"><div class="search_somenone_profile">{{item.name}}</div></a>
								</div>
							</div>
						</div>
					</ng-template>

					<ng-template #notFoundTemplate let-notFound>
							<div [innerHTML]="notFound"></div>
					</ng-template>
				</div>
				<div class="put_ads_here">Put Your Ads here!</div>
				<div class="chat_sec">
					<div class="chat_title">
						<i class="far fa-comments"></i>
						<div>Chat</div>
					</div>
					<div class="online_sec">
						<div class="online_title">Online</div>
						<div class="online_user">
							<img src="assets/images/profile.jpg">
							<div>Arturo flex</div>
						</div>
						<div class="online_user">
							<img src="assets/images/user2.jpg">
							<div>jessica simpson</div>
						</div>
						<div class="online_user">
							<img src="assets/images/user3.jpg">
							<div>fenny brown</div>
						</div>
						<div class="online_user">
							<img src="assets/images/user4.jpg">
							<div>bradd johnson</div>
						</div>
					</div>
					<div class="online_sec offline_sec">
						<div class="online_title">Offline</div>
						<div class="online_user">
							<img src="assets/images/profile.jpg">
							<div>Arturo flex</div>
						</div>
						<div class="online_user">
							<img src="assets/images/user2.jpg">
							<div>jessica simpson</div>
						</div>
						<div class="online_user">
							<img src="assets/images/user3.jpg">
							<div>fenny brown</div>
						</div>
						<div class="online_user">
							<img src="assets/images/user4.jpg">
							<div>bradd johnson</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>


<!-- The Modal/Lightbox -->
<div id="myModal" class="modal" *ngIf="modalopen">
	<div class="modal-content" >
		<div class="mySlides" *ngFor="let imageurl of viewImg;let i = index;first as isFirst;">
			<span class="close_img cursor" (click)="closeModal(closeId);" data-dismiss="modal">&times;</span>
			<div class="numbertext" *ngIf="isFirst"><span>1</span> / {{totalImg}}</div>
			<div class="numbertext" *ngIf="next_img"><span>{{i + 1}}</span> / {{totalImg}}</div>
			<img style="width:100%;" src="{{imageurl}}" *ngIf="isFirst === true && imageurl.split('.').pop() !== 'mp4'">

			<video controls style="width:100%;" *ngIf="imageurl.split('.').pop() == 'mp4' && isFirst" disablePictureInPicture controlsList="nodownload">
				<source src="{{imageurl}}" type="video/mp4">
			</video>
			<img style="width:100%;" src="{{imageurl}}" *ngIf="next_img && isFirst === false && imageurl.split('.').pop() !== 'mp4'">
			<video controls *ngIf="imageurl.split('.').pop() == 'mp4' && next_img && isFirst === false" disablePictureInPicture controlsList="nodownload">
				<source src="{{imageurl}}" type="video/mp4">
			</video>
		</div>

		<!-- Next/previous controls -->
		<a class="prev" (click)="plusSlides(-1)" *ngIf="totalImg > 1">&#10094;</a>
		<a class="next" (click)="plusSlides(1)" *ngIf="totalImg > 1">&#10095;</a>

	</div>
</div>
